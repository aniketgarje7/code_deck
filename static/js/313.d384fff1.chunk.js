"use strict";(self.webpackChunkcode_deck=self.webpackChunkcode_deck||[]).push([[313],{8313:function(e,t,n){n.r(t),n.d(t,{default:function(){return R}});var a=n(4165),r=n(5861),s=n(9439),c=n(2791),l=n(5953),o=n(7689),i=n(184),u=function(e){var t=e.isFullScreen,n=(0,o.s0)();return(0,i.jsxs)("div",{className:"relative ".concat(t?"h-0":"h-16"," bg-black flex justify-center items-center gap-4"),children:[(0,i.jsx)("img",{className:"w-16 cursor-pointer",src:l,alt:"logo",onClick:function(){n("/code_deck")}}),(0,i.jsx)("div",{className:"text-white text-2xl",children:"Code Deck"})]})},d=n(9406),f=n(7692),p=n(2976),h=n(3490),m=n(7104),g=n(3067),x=n(3359),v=n(7735),b=n(1707),j=n(5115),k=n(772),y=n(2355),C=n(8625),w=n(9211),N=n(6928),S=n(1450),I=n(6580),D=function(e){var t=e.currentLanguage,n=e.currentTheme,a=e.currentCode,r=e.setCurrentCode,l=e.isFullScreen,o=(0,c.useState)(m.WR),u=(0,s.Z)(o,2),d=u[0],f=u[1],p=(0,c.useState)(w.eJ),D=(0,s.Z)(p,2),Z=D[0],F=D[1];return(0,c.useEffect)((function(){switch(n){case"githubDark":default:f(m.WR);break;case"githubLight":f(m.A1);break;case"bespin":f(g.D);break;case"duaotoneDark":f(x.hZ);break;case"duaotoneLight":f(x.Ym);break;case"dracula":f(v.c);break;case"xcodeDark":f(b.ub);break;case"xcodeLight":f(b.tR);break;case"vscodeDark":f(j.P);break;case"okaidia":f(k.b)}}),[n]),(0,c.useEffect)((function(){switch(t){case"javascript":default:F(w.eJ);break;case"python":F(N.Vs);break;case"cpp":F(y.N);break;case"java":F(C.C)}}),[t]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(h.ZP,{value:a,height:"".concat(l?"92vh":"76vh"),theme:d,extensions:[Z,S.c.of("        "),I.yy.tabSize.of(8),I.yy.changeFilter.of((function(){return!0}))],onChange:function(e){return r(e)},basicSetup:{lineNumbers:!0,highlightActiveLineGutter:!0,highlightSpecialChars:!0,history:!0,foldGutter:!0,drawSelection:!0,dropCursor:!0,allowMultipleSelections:!0,indentOnInput:!0,syntaxHighlighting:!0,bracketMatching:!0,closeBrackets:!0,autocompletion:!0,rectangularSelection:!0,crosshairCursor:!0,highlightActiveLine:!0,highlightSelectionMatches:!0,closeBracketsKeymap:!0,defaultKeymap:!0,searchKeymap:!0,historyKeymap:!0,foldKeymap:!0,completionKeymap:!0,lintKeymap:!0}})})},Z=n(8827),F=function(e){var t=e.title,n=e.currentLanguage,a=e.setCurrentLanguage,r=e.currentCode,l=e.setCurrentCode,o=e.folderId,u=e.playgroundId,h=e.saveCode,m=e.runCode,g=e.getFile,x=e.isFullScreen,v=e.setIsFullScreen,b=(0,d.D)().openModal,j=[{value:"githuDark",label:"Github Dark"},{value:"githubLight",label:"Github Light"},{value:"bespin",label:"Bespin"},{value:"duaotoneDark",label:"Duotone Dark"},{value:"duaotoneLight",label:"Duotone Light"},{value:"dracula",label:"Dracula"},{value:"xcodeDark",label:"Xcode Dark"},{value:"xcodeLight",label:"Xcode Light"},{value:"vscodeDark",label:"Vscode Dark"},{value:"vscodeLight",label:"Vscode Light"},{value:"okaidia",label:"Okaidia"}],k=[{value:"cpp",label:"C++"},{value:"javascript",label:"Javascript"},{value:"python",label:"Python"},{value:"java",label:"Java"}],y=(0,c.useState)(j[0]),C=(0,s.Z)(y,2),w=C[0],N=C[1],S=(0,c.useState)((function(){for(var e=0;e<k.length;e++)if(k[e].value===n)return k[e];return k[0]})),I=(0,s.Z)(S,2),F=I[0],L=I[1];return(0,i.jsxs)("div",{className:"flex flex-col  ".concat(x?"h-[100vh]":"h-[calc(100vh - 4.5rem)]"),children:[!x&&(0,i.jsxs)("div",{className:"bg-white flex justify-between items-center flex-wrap p-4",children:[(0,i.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,i.jsxs)("h3",{className:"font-semibold",children:[" ",t]}),(0,i.jsx)(f.vpV,{style:{fontSize:"1.5rem"},className:"cursor-pointer",onClick:function(){return b({show:!0,modalType:5,identifiers:{folderId:o,cardId:u}})}}),(0,i.jsx)("button",{className:" font-normal  rounded-full p-2 bg-[#0097d7] ",onClick:h,children:"Save code"})]}),(0,i.jsxs)("div",{className:"flex gap-4",children:[(0,i.jsx)(p.ZP,{options:k,value:F,onChange:function(e){L(e),a(e.value),l(Z.QU[e.value].defaultCode)}}),(0,i.jsx)(p.ZP,{options:j,value:w,onChange:function(e){N(e)}})]})]}),(0,i.jsx)(D,{currentLanguage:n,currentTheme:w.value,currentCode:r,setCurrentCode:l,isFullScreen:x}),(0,i.jsxs)("div",{className:"bg-white flex w-full justify-between p-4  ",children:[(0,i.jsxs)("button",{className:"flex gap-3 items-center",onClick:function(){return v((function(e){return!e}))},children:[(0,i.jsx)(f.YBQ,{style:{fontSize:"1.5rem"}})," ",x?"Minimize Screen":"Full Screen"]}),(0,i.jsxs)("label",{className:"flex gap-3 items-center cursor-pointer",htmlFor:"codefile",children:[(0,i.jsx)("input",{className:"hidden",type:"file",accept:".",id:"codefile",onChange:function(e){return g(e,l)}}),(0,i.jsx)(f.MDG,{style:{fontSize:"1.5rem"}})," Import Code"]}),(0,i.jsxs)("a",{className:"flex gap-3 items-center",href:"data:text/plain;charset=utf-8,".concat(encodeURIComponent(r)),download:"code.txt",children:[(0,i.jsx)(f.MUM,{style:{fontSize:"1.5rem"}})," Export Code"]}),(0,i.jsx)("button",{onClick:m,className:" font-normal  rounded-full p-2 bg-[#0097d7]",children:"Run code"})]})]})},L=n(6292),M=function(){var e=(0,d.D)(),t=(e.openModal,e.currentOutput);return(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsxs)("div",{className:"bg-[#ededed] p-4 flex justify-between",children:[(0,i.jsx)("h3",{className:"font-bold flex justify-center",children:"Output :"}),(0,i.jsxs)("a",{className:"flex font-semibold gap-4",href:"data:text/plain;charset=utf-8,".concat(encodeURIComponent(t)),download:"output.txt",children:[(0,i.jsx)(f.MUM,{className:"text-2xl"})," Export Output"]})]}),(0,i.jsx)("textarea",{className:"h-[calc(50vh_-_8rem)] resize-none",value:t,disabled:!0})]})},_=function(e){var t=e.getFile,n=(0,d.D)(),a=(n.openModal,n.currentInput),r=n.setCurrentInput;(0,o.UO)().folderId;return(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsxs)("div",{className:"bg-[#ededed] p-4 flex justify-between",children:[(0,i.jsx)("h3",{className:"font-bold flex justify-center",children:"Input :"}),(0,i.jsxs)("label",{htmlFor:"inputfile",className:"flex items-center font-semibold gap-3",children:[(0,i.jsx)("input",{className:"hidden",type:"file",accept:".",id:"inputfile",onChange:function(e){return t(e,r)}}),(0,i.jsx)(f.MDG,{style:{fontSize:"1.5rem"}})," Import Input"]})]}),(0,i.jsx)("textarea",{className:"h-[calc(50vh_-_4rem)] resize-none",onChange:function(e){return r(e.target.value)},value:a})]})},P=n(2388),A=n(9778),O=n(9085),R=function(){var e=(0,o.UO)(),t=e.folderId,n=e.playgroundId,l=(0,Z.EC)(),f=l.folders,p=l.savePlayground,h=(0,d.D)(),m=h.isOpenModal,g=h.openModal,x=h.closeModal,v=h.currentInput,b=h.setCurrentOutput,j=f[t].playgrounds[n],k=j.title,y=j.language,C=j.code,w=(0,c.useState)(y),N=(0,s.Z)(w,2),S=N[0],I=N[1],D=(0,c.useState)(C),R=(0,s.Z)(D,2),z=R[0],K=R[1],T=(0,c.useState)(!1),U=(0,s.Z)(T,2),E=U[0],G=U[1],X=function(){g({show:!1,modalType:6,identifiers:{folderId:"",cardId:""}})},J=function(e){return A.lW.from(e,"binary").toString("base64")},B=function(e){return A.lW.from(e,"base64").toString()},V=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t,n,r){var s,c,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={method:"POST",url:"".concat("https://judge0-ce.p.rapidapi.com/submissions"),params:{base64_encoded:"true",fields:"*"},headers:{"Content-Type":"application/json","X-RapidAPI-Key":"".concat("b4e5c5a05fmsh9adf6ec091523f8p165338jsncc58f31c26e1"),"X-RapidAPI-Host":"".concat("judge0-ce.p.rapidapi.com")},data:JSON.stringify({language_id:t,source_code:n,stdin:r})},e.prev=1,e.next=4,P.Z.request(s);case 4:return l=e.sent,e.abrupt("return",null===l||void 0===l||null===(c=l.data)||void 0===c?void 0:c.token);case 8:throw e.prev=8,e.t0=e.catch(1),console.log(e.t0," post submission error"),X(),new Error("fialed at get token");case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n,a){return e.apply(this,arguments)}}(),W=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n,r,s,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",url:"".concat("https://judge0-ce.p.rapidapi.com/submissions","/")+t,params:{base64_encoded:"true",fields:"*"},headers:{"X-RapidAPI-Key":"".concat("b4e5c5a05fmsh9adf6ec091523f8p165338jsncc58f31c26e1"),"X-RapidAPI-Host":"".concat("judge0-ce.p.rapidapi.com")}},e.prev=1,e.next=4,P.Z.request(n);case 4:if(s=e.sent,!((null===(r=s.data)||void 0===r?void 0:r.status_id)<=2)){e.next=10;break}return e.next=8,W(t);case 8:return c=e.sent,e.abrupt("return",c);case 10:return e.abrupt("return",s.data);case 13:e.prev=13,e.t0=e.catch(1),O.Am.error(e.t0.message),X(),console.log(e.t0,"getoutput error");case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var t,n,r,s,c,l,o,i,u,d;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g({show:!0,modalType:6,identifiers:{folderId:"",cardId:""}}),t=Z.QU[S].id,n=J(z),r=J(v),e.prev=4,e.next=7,V(t,n,r);case 7:return s=e.sent,e.next=10,W(s);case 10:c=e.sent,l=c.status.description,o=B(c.stdout?c.stdout:""),i=B(c.compile_output?c.compile_output:""),u=B(c.stderr?c.stderr:""),d="",d=3!==c.status_id?""===i?u:i:o,b(l+"\n\n"+d),x(),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(4),O.Am.error(e.t0.message),console.log(e.t0,"error"),X();case 26:case"end":return e.stop()}}),e,null,[[4,21]])})));return function(){return e.apply(this,arguments)}}(),Q=function(e,t){var n=e.target;"files"in n&&n.files.length>0&&q(n.files[0],t)},q=function(e,t){(function(e){var t=new FileReader;return new Promise((function(n,a){t.onload=function(e){return n(e.target.result)},t.onerror=function(e){return a(e)},t.readAsText(e)}))})(e).then((function(e){t(e)})).catch((function(e){return console.log(e)}))};return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{children:[(0,i.jsx)(u,{isFullScreen:E}),(0,i.jsxs)("div",{className:"flex flex-col lg:flex-row h-full sm:w-screen",children:[(0,i.jsx)("div",{className:"".concat(E?"w-full":"w-full lg:w-3/4 "),children:(0,i.jsx)(F,{title:k,currentLanguage:S,setCurrentLanguage:I,currentCode:z,setCurrentCode:K,folderId:t,playgroundId:n,saveCode:function(){p(t,n,z,S),O.Am.success("code saved ")},runCode:H,getFile:Q,isFullScreen:E,setIsFullScreen:G})}),!E&&(0,i.jsxs)("div",{className:"w-full lg:w-1/4",children:[(0,i.jsx)(_,{getFile:Q}),(0,i.jsx)(M,{})]}),m.show&&(0,i.jsx)(L.Z,{})]})]})})}}}]);
//# sourceMappingURL=313.d384fff1.chunk.js.map